
<!-- Fondo animado -->
<div class="background-animated"></div>

<!-- Contenedor principal -->
<div class="min-h-screen flex items-center justify-center text-white px-4 py-10">
  <div class="bg-gray-800/95 p-8 rounded-xl shadow-xl border border-gray-700 backdrop-blur-sm w-full max-w-md">
    <h2 class="text-2xl font-bold text-center mb-6 text-rose-500">Recuperar Contraseña</h2>

    <!-- Formulario de envío de correo -->
    <form [formGroup]="form" (ngSubmit)="enviarCorreo()" class="space-y-4">
      <div>
        <label class="block text-sm mb-2 text-gray-300">Correo electrónico</label>
        <input
          type="email"
          formControlName="email"
          placeholder="Ingresa tu correo"
          class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 text-white placeholder-gray-400 focus:border-rose-500 focus:ring-1 focus:ring-rose-500 outline-none transition"
        />
      </div>

      <button
        type="submit"
        class="w-full bg-rose-600 hover:bg-rose-700 text-white font-semibold py-3 rounded-lg transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-rose-500/20"
      >
        Enviar instrucciones
      </button>
    </form>

    <!-- Mensajes -->
    <p *ngIf="mensaje" class="text-green-400 mt-4 text-center font-medium">{{ mensaje }}</p>
    <p *ngIf="error" class="text-red-400 mt-4 text-center font-medium">{{ error }}</p>
  </div>

  <!-- Token y cambio de contraseña -->
  <div *ngIf="mostrarResetManual" class="mt-10 bg-gray-800/90 p-6 rounded-xl shadow-md max-w-md w-full border border-gray-700 backdrop-blur-sm">
    <h3 class="text-lg font-semibold text-rose-400 mb-4 text-center">Pega el token y crea tu nueva contraseña</h3>

    <form [formGroup]="formReset" (ngSubmit)="cambiarContrasenaManual()" class="space-y-4">
      <input
        type="text"
        formControlName="token"
        placeholder="Pega aquí el token"
        class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 text-white placeholder-gray-400 focus:border-rose-500 focus:ring-1 focus:ring-rose-500 outline-none transition"
      />

      <input
        type="password"
        formControlName="newPassword"
        placeholder="Nueva contraseña"
        class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 text-white placeholder-gray-400 focus:border-rose-500 focus:ring-1 focus:ring-rose-500 outline-none transition"
      />

      <button
        type="submit"
        class="w-full bg-rose-600 hover:bg-rose-700 text-white font-semibold py-3 rounded-lg transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-rose-500/20"
      >
        Cambiar contraseña
      </button>
    </form>
  </div>
</div>

<!-- Estilos -->
<style>
  .background-animated {
    position: fixed;
    inset: 0;
    z-index: -1;
    background-size: 300% 300%;
    background-image: linear-gradient(45deg, #0a0e17, #13182b, #1a223f, #13182b, #0a0e17);
    animation: gradientFlow 15s ease infinite;
  }

  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @media (max-width: 640px) {
    .min-h-screen {
      padding-top: 3rem;
      padding-bottom: 3rem;
    }
  }
</style>
